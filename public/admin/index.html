<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TinaCMS</title>
    <script type="module" crossorigin src="/admin/assets/index-125363db.js"></script>
    <link rel="stylesheet" href="/admin/assets/index-be768d34.css">
    <link rel="stylesheet" href="/admin/mobile-fix.css">
  </head>
  <body class="tina-tailwind">
    <div id="root"></div>
    <script>
      function handleLoadError() {
        console.error('Failed to load assets')
        // Assets have failed to load
        document.getElementById('root').innerHTML =
          '<style type="text/css">\
        #no-assets-placeholder body {\
          font-family: sans-serif;\
          font-size: 16px;\
          line-height: 1.4;\
          color: #333;\
          background-color: #f5f5f5;\
        }\
        #no-assets-placeholder {\
          max-width: 600px;\
          margin: 0 auto;\
          padding: 40px;\
          text-align: center;\
          background-color: #fff;\
          box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.1);\
        }\
        #no-assets-placeholder h1 {\
          font-size: 24px;\
          margin-bottom: 20px;\
        }\
        #no-assets-placeholder p {\
          margin-bottom: 10px;\
        }\
        #no-assets-placeholder a {\
          color: #0077cc;\
          text-decoration: none;\
        }\
        #no-assets-placeholder a:hover {\
          text-decoration: underline;\
        }\
        </style>\
        <div id=\'no-assets-placeholder\'>\
          <h1>Failed loading TinaCMS assets</h1>\
          <p>\
            Your TinaCMS configuration may be misconfigured, and we could not load\
            the assets for this page.\
          </p>\
          <p>\
            Please visit <a href="https://tina.io/docs/tina-cloud/faq/#how-do-i-resolve-failed-loading-tinacms-assets-error">this doc</a> for help.\
          </p>\
        </div>'
      }

      // Check if #root has childen after 2 seconds
      // If not, we assume that the assets have failed to load
      setTimeout(() => {
        if (!document.getElementById('root').children.length) {
          handleLoadError()
        }
      }, 2000)
    </script>
    
    <!-- Mobile Menu Handler -->
    <script>
      // Mobile menu toggle functionality
      document.addEventListener('DOMContentLoaded', function() {
        // Add mobile menu toggle button
        function addMobileMenuToggle() {
          if (window.innerWidth <= 768) {
            let toggleBtn = document.querySelector('.tina-sidebar-toggle');
            if (!toggleBtn) {
              toggleBtn = document.createElement('button');
              toggleBtn.className = 'tina-sidebar-toggle';
              toggleBtn.innerHTML = 'â˜°';
              toggleBtn.setAttribute('aria-label', 'Toggle Menu');
              document.body.appendChild(toggleBtn);
            }
            
            // Toggle functionality
            toggleBtn.addEventListener('click', function() {
              document.body.classList.toggle('sidebar-open');
              const sidebar = document.querySelector('[data-testid="sidebar"]');
              if (sidebar) {
                sidebar.classList.toggle('is-open');
              }
            });
            
            // Close on overlay click
            document.addEventListener('click', function(e) {
              if (document.body.classList.contains('sidebar-open') && 
                  !e.target.closest('[data-testid="sidebar"]') && 
                  !e.target.closest('.tina-sidebar-toggle')) {
                document.body.classList.remove('sidebar-open');
                const sidebar = document.querySelector('[data-testid="sidebar"]');
                if (sidebar) {
                  sidebar.classList.remove('is-open');
                }
              }
            });
            
            // Close on sidebar item click
            const sidebarLinks = document.querySelectorAll('[data-testid="sidebar"] a');
            sidebarLinks.forEach(link => {
              link.addEventListener('click', function() {
                setTimeout(() => {
                  document.body.classList.remove('sidebar-open');
                  const sidebar = document.querySelector('[data-testid="sidebar"]');
                  if (sidebar) {
                    sidebar.classList.remove('is-open');
                  }
                }, 100);
              });
            });
          }
        }
        
        // Run on load and resize
        addMobileMenuToggle();
        window.addEventListener('resize', addMobileMenuToggle);
        
        // Re-run when Tina loads (since it's a SPA)
        const observer = new MutationObserver(function(mutations) {
          mutations.forEach(function(mutation) {
            if (mutation.type === 'childList' && mutation.addedNodes.length > 0) {
              setTimeout(addMobileMenuToggle, 100);
            }
          });
        });
        
        observer.observe(document.body, {
          childList: true,
          subtree: true
        });
      });
    </script>
    
  </body>
</html>
